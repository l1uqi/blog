---
title: LeeCode 371ä¸¤æ•´æ•°ä¹‹å’Œ
top_img: false
date: 2023-09-28
categories: 
- è®¡ç®—æœº
tags:
- leecode
cover: https://img0.baidu.com/it/u=2395867072,4290056404&fm=253&fmt=auto&app=120&f=JPEG?w=798&h=500
---

# é¢˜ç›®

[leecode 371ä¸¤æ•´æ•°ä¹‹å’Œ](https://leetcode.cn/problems/sum-of-two-integers/)
ç»™ä½ ä¸¤ä¸ªæ•´æ•° a å’Œ b ï¼Œä¸ä½¿ç”¨ è¿ç®—ç¬¦ + å’Œ - â€‹â€‹â€‹â€‹â€‹â€‹â€‹ï¼Œè®¡ç®—å¹¶è¿”å›ä¸¤æ•´æ•°ä¹‹å’Œ

# åŸç†

è¦å®ç°åŸºæœ¬è¿ç®—, æœ‰æ²¡æœ‰æƒ³è¿‡è¿™äº›è¿ç®—æ˜¯å¦‚ä½•åœ¨è®¡ç®—æœºåº•å±‚å®ç°çš„?
ä»åŠåŠ å™¨å¼€å§‹ï¼Œé€æ­¥ä»‹ç»è®¡ç®—æœºå¦‚ä½•æ‰§è¡ŒåŠ æ³•å’Œå…¶ä»–æ•°å­¦è¿ç®—ã€‚

# [é€»è¾‘é—¨](https://zh.wikipedia.org/zh-hans/%E9%82%8F%E8%BC%AF%E9%96%98)

é€»è¾‘é—¨æ˜¯é›†æˆç”µè·¯çš„åŸºæœ¬ç»„ä»¶ã€‚ç®€å•é€»è¾‘é—¨å¯ç”±æ™¶ä½“ç®¡ç»„æˆã€‚è¿™äº›æ™¶ä½“ç®¡çš„ç»„åˆå¯ä»¥ä½¿ä»£è¡¨ä¸¤ç§ä¿¡å·çš„é«˜ä½ç”µå¹³åœ¨é€šè¿‡å®ƒä»¬ä¹‹åäº§ç”Ÿé«˜ç”µå¹³æˆ–è€…ä½ç”µå¹³çš„ä¿¡å·ã€‚é«˜ã€ä½ç”µå¹³å¯ä»¥åˆ†åˆ«ä»£è¡¨é€»è¾‘ä¸Šçš„â€œçœŸâ€ï¼ˆTï¼›trueï¼‰ä¸â€œå‡â€ï¼ˆFï¼›falseï¼‰æˆ–äºŒè¿›åˆ¶çš„1å’Œ0ï¼Œä»è€Œå®ç°é€»è¾‘è¿ç®—ã€‚å¸¸è§çš„é€»è¾‘é—¨åŒ…æ‹¬ä¸é—¨ï¼Œæˆ–é—¨ï¼Œéé—¨ï¼Œå¼‚æˆ–é—¨ï¼ˆä¹Ÿç§°äº’æ–¥æˆ–ï¼‰ã€‚

## AND(ä¸é—¨)
å…¨å…¥çš†é«˜æ‰å‡ºé«˜ã€‚
ä¸€ä½å‡ºä½ã€‚

![](https://github.com/l1uqi/PicGo/blob/main/blog/AND_ANSI.png?raw=true)

| A   | B   | è¾“å‡º |
| --- | --- | ---- |
| 0   | 0   | 0    |
| 0   | 1   | 0    |
| 1   | 0   | 0    |
| 1   | 1   | 1    |

## OR(æˆ–é—¨)
å…¨å…¥çš†ä½æ‰å‡ºä½ã€‚

![](https://github.com/l1uqi/PicGo/blob/main/blog/OR_ANSI.png?raw=true)

| A   | B   | è¾“å‡º |
| --- | --- | ---- |
| 0   | 0   | 0    |
| 0   | 1   | 1    |
| 1   | 0   | 1    |
| 1   | 1   | 1    |


## XOR(å¼‚æˆ–)
åªæœ‰å…¶ä¸­ä¸€é¡¹è¾“å…¥ä¸ºé«˜ï¼Œè¾“å‡ºä¸ºé«˜ï¼›å¦åˆ™å‡ºä½ã€‚

![](https://github.com/l1uqi/PicGo/blob/main/blog/XOR_ANSI.png?raw=true)

| A   | B   | è¾“å‡º |
| --- | --- | ---- |
| 0   | 0   | 0    |
| 0   | 1   | 1    |
| 1   | 0   | 1    |
| 1   | 1   | 0    |


# åŠåŠ å™¨

åŠåŠ å™¨å°±åƒåœ¨ç©ä¹é«˜ç§¯æœ¨ä¸€æ ·ï¼Œæˆ‘ä»¬å¼€å§‹ç”¨æœ€åŸºæœ¬çš„ç§¯æœ¨ç»„åˆæˆæ›´å¤§çš„ç»“æ„ã€‚åŠåŠ å™¨æ˜¯è¿™ä¸ªâ€œç§¯æœ¨ä¸–ç•Œâ€çš„ç¬¬ä¸€ä¸ªç§¯æœ¨ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥äº†è§£å®ƒã€‚

æƒ³è±¡ä½ æœ‰ä¸¤ä¸ªå°æœ‹å‹ï¼Œæ¯ä¸ªå°æœ‹å‹æ‰‹é‡Œæ‹¿ç€ä¸€ä¸ªç©å…·çƒï¼Œä¸€ä¸ªæ˜¯0ï¼Œä¸€ä¸ªæ˜¯1ã€‚åŠåŠ å™¨çš„å·¥ä½œå°±åƒæ˜¯è®©è¿™ä¸¤ä¸ªå°æœ‹å‹æŠŠç©å…·çƒæ”¾åˆ°ä¸€èµ·ï¼Œç„¶åå‘Šè¯‰ä½ ä»–ä»¬æ‰‹é‡Œç©å…·çƒçš„æ•°é‡ã€‚å¦‚æœä¸¤ä¸ªå°æœ‹å‹æ‰‹é‡Œéƒ½æ˜¯0ï¼Œå‘Šè¯‰ä½ çš„ç»“æœæ˜¯0ï¼›å¦‚æœæœ‰ä¸€ä¸ªå°æœ‹å‹æ‰‹é‡Œæ˜¯1ï¼Œç»“æœå°±æ˜¯1ï¼›å¦‚æœä¸¤ä¸ªå°æœ‹å‹æ‰‹é‡Œéƒ½æ˜¯1ï¼Œé‚£ç»“æœå°±æ˜¯10ï¼Œä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶çš„2ã€‚

è¿™ç§â€œä¸¤ä¸ªå°æœ‹å‹â€å’Œâ€œç©å…·çƒâ€çš„ç»„åˆå°±æ˜¯åŠåŠ å™¨ã€‚å®ƒæ¥å—ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°å­—ä½œä¸ºè¾“å…¥ï¼Œå¹¶äº§ç”Ÿä¸¤ä¸ªè¾“å‡ºï¼šä¸€ä¸ªæ˜¯å½“å‰ä½çš„å’Œï¼Œå¦ä¸€ä¸ªæ˜¯è¿›ä½ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚

æ€»è€Œè¨€ä¹‹ï¼ŒåŠåŠ å™¨æ˜¯ä¸€ä¸ªéå¸¸åŸºç¡€ã€ç®€å•çš„ç”µè·¯ï¼Œç”¨äºæ‰§è¡ŒäºŒè¿›åˆ¶æ•°å­—çš„æœ€åŸºæœ¬åŠ æ³•è¿ç®—ã€‚å°±åƒç©ç§¯æœ¨ä¸€æ ·ï¼Œæˆ‘ä»¬ä¼šç»§ç»­æ­å»ºæ›´å¤šçš„ç»“æ„ï¼Œä½¿è®¡ç®—æœºèƒ½å¤Ÿåšæ›´å¤æ‚çš„äº‹æƒ…ã€‚


## åŠåŠ å™¨ç”µè·¯å›¾
![](https://github.com/l1uqi/PicGo/blob/main/blog/Half_Adder.png?raw=true)

è¾“å…¥åŒ…æ‹¬ä¸¤ä¸ªä½ï¼šA å’Œ Bã€‚
è¾“å‡ºåŒ…æ‹¬ï¼š
- å’Œï¼ˆsumï¼‰ï¼šA XOR(å¼‚æˆ–) Bï¼Œè¿™è¡¨ç¤ºä¸¤ä¸ªè¾“å…¥ä½ç›¸åŠ çš„ç»“æœã€‚
- è¿›ä½ï¼ˆcarryï¼‰ï¼šA AND(ä¸) Bï¼Œè¿™è¡¨ç¤ºä¸¤ä¸ªè¾“å…¥ä½ç›¸åŠ æ—¶äº§ç”Ÿçš„è¿›ä½ã€‚

## ä¾‹å¦‚

å‡è®¾æˆ‘ä»¬è¦è®¡ç®— 3 + 2ï¼ˆä»¥äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 0011 + 0010ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªåŠåŠ å™¨æ¥æ‰§è¡Œè¿™ä¸ªæ“ä½œï¼Œæ¯ä¸ªåŠåŠ å™¨è´Ÿè´£ä¸€ä¸ªä½çš„åŠ æ³•ã€‚
é¦–å…ˆï¼Œæˆ‘ä»¬å°† 3 å’Œ 2 çš„äºŒè¿›åˆ¶ä½è¾“å…¥åˆ°ä¸¤ä¸ªåŠåŠ å™¨ï¼š
åŠåŠ å™¨ 1 
è¾“å…¥ï¼š A = 1, B = 0
è¾“å‡ºï¼š Sum = 1, Carry = 0
åŠåŠ å™¨ 2 
è¾“å…¥ï¼š A = 1, B = 1
è¾“å‡ºï¼š Sum = 0, Carry = 1

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸¤ä¸ªåŠåŠ å™¨çš„ Sum è¾“å‡ºè¿æ¥åœ¨ä¸€èµ·ï¼Œå¾—åˆ°ç»“æœï¼š

åŠåŠ å™¨ 1
```
  1
+ 0
-------
  1
```
åŠåŠ å™¨ 2 äº§ç”Ÿäº†ä¸€ä¸ªè¿›ä½ï¼ˆCarry = 1ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™ä¸ªè¿›ä½åŠ åˆ°æœ€ç»ˆç»“æœä¸­ã€‚å› æ­¤ï¼Œæœ€ç»ˆç»“æœæ˜¯ï¼š
```
  0
+ 0
-------
  0
```

1(carry)0(sum)1(sum)
ğŸ¤”å•ä¸ªåŠåŠ å™¨ä¼šå¾—åˆ°å½“å‰ä½çš„sum åŠè¿›ä½carry, å¦‚ä½•æ·»åŠ è¿›ä½è®¡ç®—å¾—åˆ°æœ€ç»ˆçš„ç»“æœå‘¢?
ğŸ‘‰ å…¨åŠ å™¨å¯ä»¥å¸®æˆ‘ä»¬è§£å†³



# å…¨åŠ å™¨

åœ¨ä¸€ä¸ªåŠåŠ å™¨çš„ä¸‹, æˆ‘ä»¬èƒ½å¾—å‡ºä¸¤ä½çš„å’Œè·Ÿè¿›ä½, é‚£ä¹ˆå¯èƒ½ç”¨ä¸¤ä¸ªåŠåŠ å™¨ä»è€Œå®ç°ä¸€ä¸ªå…¨åŠ å™¨ã€‚æ–¹æ³•æ˜¯å°†å®ƒä»¬è¿æ¥èµ·æ¥ï¼Œå…¶ä¸­ä¸€ä¸ªåŠåŠ å™¨å¤„ç†ä¸¤ä¸ªè¾“å…¥ä½ï¼ˆA å’Œ Bï¼‰ï¼Œè€Œå¦ä¸€ä¸ªåŠåŠ å™¨å¤„ç†ä¸€ä¸ªè¾“å…¥ä½ï¼ˆCinï¼‰å’Œå‰ä¸€ä¸ªåŠåŠ å™¨çš„è¿›ä½è¾“å‡ºï¼ˆcarryï¼‰ã€‚è¿™ç§ç»„åˆä½¿å¾—ç¬¬ä¸€ä¸ªåŠåŠ å™¨è®¡ç®—å‡ºä¸¤ä¸ªè¾“å…¥ä½çš„å’Œå’Œè¿›ä½ï¼Œç¬¬äºŒä¸ªåŠåŠ å™¨å°†è¿™ä¸ªè¿›ä½ä¸ç¬¬ä¸‰ä¸ªè¾“å…¥ä½ç›¸åŠ ï¼Œå¾—åˆ°æœ€ç»ˆçš„å’Œå’Œè¿›ä½ï¼Œä»è€Œå®ç°äº†ä¸€ä¸ªå®Œæ•´çš„ä¸‰ä½å…¨åŠ å™¨çš„åŠŸèƒ½ã€‚

## å…¨åŠ å™¨ç”µè·¯å›¾
![](https://raw.githubusercontent.com/l1uqi/PicGo/a8df5d4d17fdd90736dc4a782818a885b760eccb/blog/Full-adder_logic_diagram.svg)

è¾“å…¥åŒ…æ‹¬ä¸‰ä¸ªä½ï¼šAã€B å’Œè¿›ä½è¾“å…¥ï¼ˆCinï¼‰ã€‚
è¾“å‡ºåŒ…æ‹¬ï¼š
- å’Œï¼ˆsumï¼‰ï¼š(A XOR B) XOR Cinï¼Œè¿™è¡¨ç¤ºä¸‰ä¸ªè¾“å…¥ä½ç›¸åŠ çš„ç»“æœã€‚
- è¿›ä½ï¼ˆcarryï¼‰ï¼š(A AND B) OR (Cin AND (A XOR B))ï¼Œè¿™è¡¨ç¤ºä¸‰ä¸ªè¾“å…¥ä½ç›¸åŠ æ—¶äº§ç”Ÿçš„è¿›ä½ã€‚


## ä¾‹å¦‚
ç”¨å…¨åŠ å™¨æ¥è§£é‡Šä¸Šé¢åŠåŠ å™¨çš„ä¾‹å­ 3+2
3 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 0011
2 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 0010
nè¡¨ç¤ºA/B/Cçš„ç¬¬nä½

### æœ€ä½ä½:
è¾“å…¥ï¼š A_0 = 1, B_0 = 0, C_in = 0
åŠåŠ å™¨ 1
è¾“å‡º: Sum_0 = 1, Carry_out_1 = 0

åŠåŠ å™¨ 2
è¾“å‡º: Sum_0 = 1, Carry_out_2 = 0

è¿›ä½ä¼ é€’åˆ°ä¸‹ä¸€ä½ã€‚

### æ¬¡ä½ä½:
è¾“å…¥ï¼š A_1 = 1, B_1 = 1, C_in = Carry_out_2 = 0 (ä¸Šä¸€ä½çš„è¿›ä½)
åŠåŠ å™¨ 1
è¾“å‡º: Sum_1 = 0, Carry_out_1 = 1
åŠåŠ å™¨ 2
è¾“å‡º: Sum_1 = 0, Carry_out_2 = 1

è¿›ä½ä¼ é€’åˆ°ä¸‹ä¸€ä½ã€‚

### æ¬¡é«˜ä½:
è¾“å…¥ï¼š A_2 = 0, B_2 = 0, C_in = Carry_out_2 = 1 (ä¸Šä¸€ä½çš„è¿›ä½)
åŠåŠ å™¨ 1
è¾“å‡º: Sum_2 = 0, Carry_out_1 = 0
åŠåŠ å™¨ 2
è¾“å‡º: Sum_2 = 1, Carry_out_2 = 0

è¿›ä½ä¼ é€’åˆ°ä¸‹ä¸€ä½

### æœ€é«˜ä½:
è¾“å…¥ï¼š A_3 = 0, B_3 = 0, C_in = Carry_out_2 = 0 (ä¸Šä¸€ä½çš„è¿›ä½)
åŠåŠ å™¨ 1
è¾“å‡º: Sum_3 = 0, Carry_out_1 = 0
åŠåŠ å™¨ 2
è¾“å‡º: Sum_3 = 0, Carry_out_2 = 0

æœ€ç»ˆçš„ç»“æœä¸ºï¼š
Sum = 0101ï¼ˆäºŒè¿›åˆ¶ï¼Œå³åè¿›åˆ¶çš„ 5ï¼‰


# è§£é¢˜
```rust
fn main() {
    let a = 13;
    let b = 21;
    println!("ç»“æœ{}", get_sum(a, b));
}

fn get_sum(a: i32, b:i32) -> i32 {
    // è·å–è¿›ä½
    let mut carry = a & b;
    // è·å–å’Œsum
    let sum = a ^ b;
    let mut result: i32 = sum;

    while carry != 0 {
      result = result + (carry << 1);
      carry = sum & carry;
    }
    return result;
}
```
